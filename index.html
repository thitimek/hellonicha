<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy 1st Anniversary</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bumble-yellow: #FFCF00;
  --logo-yellow: #ffdb5b;
  --card-radius: 20px;
  --max-width: 380px;
}

/* reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family: 'IBM Plex Sans Thai', system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  background: var(--bumble-yellow);
  display:flex;
  justify-content:center;
  align-items:center;
  padding:20px;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* container fixed size (responsive) */
.app{
  width:90%;
  max-width:var(--max-width);
  height:85vh;
  max-height:900px;
  position:relative;
  margin:auto;
  padding: env(safe-area-inset-top,20px) 10px 20px 10px;
  display:flex;
  justify-content:center;
  align-items:center;
  
  /* FIX 1: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö .app ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î‡πÄ‡∏á‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£ Scroll */
  background-color: #ffffff; 
  border-radius: var(--card-radius); /* ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á .app ‡πÇ‡∏Ñ‡πâ‡∏á‡∏°‡∏ô‡∏ï‡∏≤‡∏°‡∏Ç‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î */
  overflow: hidden; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏•‡πâ‡∏ô‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡∏ô‡∏≠‡∏Å .app */
}

/* card base */
.card{
  position:absolute;
  inset:10px; /* leaves a small gap on all sides so chrome/safari mobile won't touch edges */
  background:#fff;
  border-radius:var(--card-radius);
  box-shadow: 0 12px 30px rgba(0,0,0,0.18);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  touch-action:none;
  transform-origin:center;
  /* initial (hidden) state for fade-in transitions */
  opacity:0;
  transform: translateY(8px) scale(0.995);
  transition: transform 320ms cubic-bezier(.22,.9,.28,1), opacity 260ms linear;
  user-select:none;
  -webkit-user-select:none;
}

/* active card visible */
.card.active{
  opacity:1;
  transform: translateY(0) scale(1);
}

/* stacked look for lower cards (purely visual) */
.card[data-stack="1"]{ transform: scale(.96) translateY(10px); }
.card[data-stack="2"]{ transform: scale(.92) translateY(20px); }

/* image area */
.card-img{
  width:100%;
  height:62%;
  object-fit:cover;
  display:block;
}

/* content area */
.card-content{
  padding:16px;
  flex:1;
  display:flex;
  flex-direction:column;
  gap:8px;
  justify-content:flex-start;
  /* default: white background */
  background-color: #fff; 
}

/* headings */
.h-title{
  font-weight:700;
  font-size:20px;
  color:#111;
  line-height:1.35;
}
.h-sub{
  font-weight:400;
  font-size:14.5px;
  color:#333;
  line-height:1.5;
  white-space:pre-line;
}

/* logo bubble for first card */
.logo-bubble{
  width:100px;
  height:100px;
  border-radius:50%;
  background: var(--logo-yellow);
  display:flex;
  align-items:center;
  justify-content:center;
  position:absolute;
  top:20px;
  left:50%;
  transform:translateX(-50%);
  box-shadow:0 6px 12px rgba(0,0,0,0.12);
  z-index:5;
}
.logo-bubble img{ width:70px; height:auto; display:block; }

/* responsive tweaks */
@media (max-width:400px){
  /* FIX 2: ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏°‡∏•‡∏á 15% (‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 0.85) ‡∏ö‡∏ô iPhone 13 mini */
  .app {
    width: 100%;
    max-width: none;
    height: 95vh; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ scale */
    
    transform: scale(0.85); 
    transform-origin: center center; /* ‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£ scale */
    
    /* ‡∏õ‡∏£‡∏±‡∏ö padding ‡∏Ç‡∏≠‡∏á body ‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏ö‡∏ô‡∏≠‡∏Å‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ scale */
    padding: 10px; /* ‡∏•‡∏î padding ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô/‡∏•‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á .app ‡∏•‡∏á */
    
    /* ‡∏•‡∏ö width:90% ‡πÅ‡∏•‡∏∞ max-width:var(--max-width); ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏ß‡πâ‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å‡∏≠‡∏≠‡∏Å */
  }

  body {
    padding: 10px; /* ‡∏•‡∏î padding ‡∏£‡∏≠‡∏ö‡∏ô‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á body */
  }

  /* ‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÅ‡∏•‡∏∞‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏≠‡∏≠‡∏Å ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ .app:scale ‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î */
  .app{ height:86vh; }
  .logo-bubble{ width:80px; height:80px; top:16px; }
  .logo-bubble img{ width:56px; }
  .h-title{ font-size:18px; }
  .h-sub{ font-size:14px; }
  .card{ inset:8px; }
}

/* prevent image selection dragging artifacts */
.card-img, .logo-bubble img { -webkit-user-drag: none; user-drag: none; }

/* --- Special CSS for Card 22 REMOVED --- */
/* Card 18's style is carried over from last successful change */
.card[data-id="18"] .card-img {
  object-position: top;
}

</style>
</head>
<body>
  <div class="app" id="app">

    <div class="card" data-id="22">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/22%20end.jpg" alt="Final Message" style="object-position: top;">
      <div class="card-content">
        <div class="h-title">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ô‡∏∞ üåª</div>
        <div class="h-sub">‡πÄ‡∏Ñ‡πâ‡∏≤‡∏î‡∏µ‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏°‡∏µ‡∏ó‡∏≥‡∏ï‡∏±‡∏ß‡πÑ‡∏°‡πà‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏Å‡∏±‡∏ö‡πÄ‡∏ï‡∏á‡∏ö‡πâ‡∏≤‡∏á ‡∏á‡∏≠‡πÅ‡∏á‡∏ö‡πâ‡∏≤‡∏á (‡πÄ‡∏¢‡∏≠‡∏∞) ‡πÅ‡∏ï‡πà‡πÄ‡∏ï‡∏á‡∏Å‡πá‡∏¢‡∏±‡∏á‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏™‡∏°‡∏≠‡πÄ‡∏•‡∏¢ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡πÜ ‡πÄ‡∏Ñ‡πâ‡∏≤ ‡∏ô‡∏∞ ‡πÑ‡∏õ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô ü§é</div>
      </div>
    </div>

    <div class="card" data-id="21">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/20exhibition.png" alt="‡πÑ‡∏õ‡∏î‡∏π‡∏á‡∏≤‡∏ô‡πÄ‡∏à">
      <div class="card-content">
        <div class="h-title">4 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 25 - ‡πÑ‡∏õ‡∏î‡∏π‡∏á‡∏≤‡∏ô‡πÄ‡∏à</div>
        <div class="h-sub">‡πÑ‡∏õ‡∏î‡∏π‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏à‡∏Å‡∏±‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏Å‡∏¥‡∏ô‡∏≠‡∏à‡∏¥‡πÑ‡∏ã‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡∏û‡∏µ‡πà‡∏ä‡∏±‡∏¢‡∏≠‡∏µ‡∏ü</div>
      </div>
    </div>

    <div class="card" data-id="20">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/19accident.jpg" alt="‡πÄ‡∏ï‡∏á‡∏´‡∏Å‡∏•‡πâ‡∏°">
      <div class="card-content">
        <div class="h-title">14 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤ 25 - ‡πÄ‡∏ï‡∏á‡∏´‡∏Å‡∏•‡πâ‡∏°</div>
        <div class="h-sub">‡∏ï‡∏Å‡πÉ‡∏à‡∏°‡∏≤‡∏Å ‡∏¢‡∏±‡∏á‡∏î‡∏µ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏£ ‡∏´‡∏°‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏°‡∏Å‡∏£‡∏∞‡πÇ‡∏´‡∏•‡∏Å‡∏´‡∏ô‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏Ñ‡∏£‡∏±‡∏ö</div>
      </div>
    </div>

    <div class="card" data-id="19">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/18german.png" alt="‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô">
      <div class="card-content">
        <div class="h-title">20 ‡∏Å‡∏£‡∏Å‡∏é‡∏≤ 25 - ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô</div>
        <div class="h-sub">‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏∏‡∏Å‡πÄ‡∏™‡∏≤‡∏£‡πå</div>
      </div>
    </div>

    <div class="card" data-id="18">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/17donation.jpg" alt="‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏°‡∏π‡∏•‡∏ô‡∏¥‡∏ò‡∏¥‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡πÄ‡∏á‡∏≤" style="object-position: top;">
      <div class="card-content">
        <div class="h-title">11 ‡∏Å‡∏£‡∏Å‡∏é‡∏≤ 25 - ‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏°‡∏π‡∏•‡∏ô‡∏¥‡∏ò‡∏¥‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡πÄ‡∏á‡∏≤</div>
        <div class="h-sub">‡πÄ‡∏≠‡∏≤‡∏Ç‡∏≠‡∏á‡πÑ‡∏õ‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏Å‡∏±‡∏ô ‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏• ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏´‡πâ‡∏≠‡∏á ‡∏à‡∏±‡∏î‡∏´‡πâ‡∏≠‡∏á ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏õ‡∏´‡∏≤‡πÄ‡∏ï‡∏á</div>
      </div>
    </div>

    <div class="card" data-id="17">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/16birthdayadvance.png" alt="‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤">
      <div class="card-content">
        <div class="h-title">21 ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤ 25 - ‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤</div>
        <div class="h-sub">‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡πå‡∏™‡∏ó‡∏µ‡πà‡∏á‡∏á‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î ‡∏Ñ‡∏ô‡∏ï‡πâ‡∏ô‡∏Ñ‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡∏ú‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô ‡πÇ‡∏õ‡πä‡∏∞‡∏™‡∏∏‡∏î</div>
      </div>
    </div>

    <div class="card" data-id="16">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/15leoyoyo.jpg" alt="‡πÄ‡∏à‡∏≠ ‡πÇ‡∏¢‡πÇ‡∏¢‡πà ‡∏•‡∏µ‡πÇ‡∏≠ ‡πÑ‡∏≠‡∏£‡∏î‡∏≤">
      <div class="card-content">
        <div class="h-title">20 ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤ 25 - ‡πÄ‡∏à‡∏≠ ‡πÇ‡∏¢‡πÇ‡∏¢‡πà ‡∏•‡∏µ‡πÇ‡∏≠ ‡πÑ‡∏≠‡∏£‡∏î‡∏≤</div>
        <div class="h-sub">‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÜ ‡πÄ‡∏ï‡∏á‡∏≠‡∏µ‡∏Å‡πÅ‡∏•‡πâ‡∏ß ‡∏ï‡∏≥‡∏ô‡∏≤‡∏ô‡∏™‡∏ß‡∏¢‡∏ó‡∏∞‡∏•‡∏∏‡∏™‡∏ï‡∏≠‡∏£‡∏µ‡πà ‡∏£‡∏∏‡πà‡∏ô‡∏û‡∏µ‡πà‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏±‡∏Å ü§£</div>
      </div>
    </div>

    <div class="card" data-id="15">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/14pray.jpg" alt="‡πÑ‡∏´‡∏ß‡πâ‡∏û‡∏£‡∏∞‡∏Ç‡∏≠‡∏û‡∏£">
      <div class="card-content">
        <div class="h-title">25 ‡∏û‡∏§‡∏©‡∏†‡∏≤ 25 - ‡πÑ‡∏´‡∏ß‡πâ‡∏û‡∏£‡∏∞‡∏Ç‡∏≠‡∏û‡∏£</div>
        <div class="h-sub">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡πÑ‡∏õ‡πÑ‡∏´‡∏ß‡πâ‡∏û‡∏£‡∏∞‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏î‡∏ß‡∏á‡∏Å‡∏±‡∏ô</div>
      </div>
    </div>

    <div class="card" data-id="14">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/13hospital.png" alt="‡∏õ‡πà‡∏ß‡∏¢‡∏ö‡πà‡∏≠‡∏¢">
      <div class="card-content">
        <div class="h-title">7 ‡∏û‡∏§‡∏©‡∏†‡∏≤ 25 - ‡∏ú‡πà‡∏≤‡∏ô‡∏°</div>
        <div class="h-sub">‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏ï‡∏á‡∏õ‡πà‡∏ß‡∏¢‡∏ö‡πà‡∏≠‡∏¢ ‡πÑ‡∏õ‡∏£‡∏û. ‡∏Å‡∏±‡∏ô‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡πÄ‡∏•‡∏¢ ‡πÅ‡∏ï‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏¢‡πâ‡πÄ‡∏¢‡πâ</div>
      </div>
    </div>

    <div class="card" data-id="13">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/12khaoyai.jpg" alt="Khaoyai">
      <div class="card-content">
        <div class="h-title">13 ‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô 25 (‡∏™‡∏á‡∏Å‡∏£‡∏≤‡∏ô‡∏ï‡πå) - ‡πÄ‡∏Ç‡∏≤‡πÉ‡∏´‡∏ç‡πà</div>
        <div class="h-sub">‡πÄ‡∏ï‡∏á‡∏ä‡∏ß‡∏ô‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏õ‡πÄ‡∏Ç‡∏≤‡πÉ‡∏´‡∏ç‡πà‡∏î‡πâ‡∏ß‡∏¢ ‡∏û‡∏µ‡∏Ñ‡∏°‡∏≤‡∏Å ‡∏ó‡∏£‡∏¥‡∏õ‡∏ô‡∏µ‡πâ ‡πÄ‡∏õ‡∏¥‡∏î‡∏ó‡∏£‡∏¥‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏ú‡∏¥‡∏î‡πÄ‡∏•‡∏¢ 5555 ‡πÑ‡∏õ‡πÄ‡∏Ç‡∏∑‡πà‡∏≠‡∏ô ‡πÑ‡∏õ‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏£‡πà‡∏≠‡∏¢‡πÜ ‡πÑ‡∏õ‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü‡∏™‡∏ß‡∏¢‡πÜ ‡πÅ‡∏ñ‡∏°‡πÄ‡∏ï‡∏á‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡πå‡∏™‡πÄ‡∏Ñ‡πâ‡∏≤‡∏î‡πâ‡∏ß‡∏¢ ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏°‡∏≤‡∏ö‡∏≠‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏ó‡∏≥‡πÑ‡∏°‡πÑ‡∏°‡πà‡∏Ç‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏ã‡∏±‡∏Å‡∏ó‡∏µ ü§£</div>
      </div>
    </div>

    <div class="card" data-id="12">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/11huahin.jpg" alt="Huahin">
      <div class="card-content">
        <div class="h-title">5 ‡πÄ‡∏°‡∏©‡∏≤ 25 - ‡∏´‡∏±‡∏ß‡∏´‡∏¥‡∏ô ‡∏û‡∏ö‡πÄ‡∏à‡∏≠‡πÑ‡∏≠‡∏£‡∏î‡∏≤‡∏Ñ‡∏£‡∏¥‡∏õ‡πÇ‡∏ï‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô</div>
        <div class="h-sub">‡πÄ‡∏ï‡∏á‡∏ä‡∏ß‡∏ô‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏õ‡∏´‡∏±‡∏ß‡∏´‡∏¥‡∏ô ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏î‡∏µ‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢ ‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏Å‡πá‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ ‡πÑ‡∏î‡πâ‡πÄ‡∏à‡∏≠‡πÑ‡∏≠‡∏£‡∏î‡∏≤ ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏≠‡∏£‡πà‡∏≠‡∏¢‡πÜ ‡∏Å‡∏¥‡∏ô‡∏ï‡∏¥‡πà‡∏°‡∏ã‡∏≥ ‡πÅ‡∏•‡∏∞‡∏Å‡πá‡πÑ‡∏õ‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÉ‡∏´‡πâ‡πÅ‡∏ü‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏≠‡∏á</div>
      </div>
    </div>

    <div class="card" data-id="11">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/10bookfair.jpg" alt="Book Fair">
      <div class="card-content">
        <div class="h-title">29 ‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏° 25 - ‡πÑ‡∏õ‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ ‡∏û‡∏ö‡πÄ‡∏à‡∏≠‡∏û‡∏µ‡πà‡∏ä‡∏±‡∏¢‡∏≠‡∏µ‡∏ü ‡πÅ‡∏•‡∏∞‡πÑ‡∏õ‡∏™‡∏õ‡∏≤</div>
        <div class="h-sub">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏¥‡∏ô‡πÑ‡∏´‡∏ß‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡∏á‡∏á‡πà‡∏∞ ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡πÑ‡∏õ‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏Å‡∏±‡∏ô ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏Å‡πá‡πÑ‡∏õ‡∏™‡∏õ‡∏≤‡πÉ‡∏ô‡∏ï‡∏≥‡∏ô‡∏≤‡∏ô 555</div>
      </div>
    </div>

    <div class="card" data-id="10">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/09tattooandsunflower.jpg" alt="Tattoo & Sunflower">
      <div class="card-content">
        <div class="h-title">22 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤ 25 - ‡πÑ‡∏õ‡∏™‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡πÑ‡∏õ‡∏™‡∏ß‡∏ô‡∏£‡∏ñ‡πÑ‡∏ü</div>
        <div class="h-sub">‡πÄ‡∏ï‡∏á‡∏ä‡∏ß‡∏ô‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏õ‡∏™‡∏±‡∏Å (‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡πÑ‡∏õ‡∏£‡∏≠‡πÄ‡∏ï‡∏á‡∏™‡∏±‡∏Å) ‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏•‡∏¢‡∏ã‡∏∑‡πâ‡∏≠‡∏î‡∏≠‡∏Å‡∏ó‡∏≤‡∏ô‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ô‡∏ö‡πà‡∏ô‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡πÅ‡∏´‡∏•‡πà‡∏∞ ‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏î‡∏≠‡∏Å‡∏ó‡∏≤‡∏ô‡∏ï‡∏∞‡∏ß‡∏±‡∏ô ‡∏à‡∏∞‡∏Ñ‡∏≠‡∏¢‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡πÄ‡∏ò‡∏≠‡πÄ‡∏≠‡∏á üåª</div>
      </div>
    </div>

    <div class="card" data-id="9">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/08valentines.png" alt="Valentines">
      <div class="card-content">
        <div class="h-title">14 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤ 25 - Valentines</div>
        <div class="h-sub">‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡∏ß‡∏≤‡πÄ‡∏•‡∏ô‡πÑ‡∏ó‡∏ô‡πå ‡∏î‡∏µ‡πÉ‡∏à‡πÅ‡∏¢‡πà‡∏°‡∏µ‡∏™‡∏≤‡∏ß‡∏™‡∏ß‡∏¢‡∏°‡∏≤‡∏´‡∏≤‡∏ñ‡∏∂‡∏á‡∏ö‡πâ‡∏≤‡∏ô ü•∞</div>
      </div>
    </div>

    <div class="card" data-id="8">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/07spacejourney.jpg" alt="Space Journey">
      <div class="card-content">
        <div class="h-title">2 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤ 25 - Space Journey</div>
        <div class="h-sub">‡πÑ‡∏õ‡∏î‡∏π‡∏ô‡∏¥‡∏ó‡∏£‡∏£‡∏®‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ô ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏°‡∏µ‡∏Ñ‡∏ô‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏Å‡∏ö‡∏¥‡∏ô‡∏≠‡∏ß‡∏Å‡∏≤‡∏®‡πÅ‡∏´‡∏•‡πà‡∏∞ 555</div>
      </div>
    </div>

    <div class="card" data-id="7">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/06oilmeeting.jpg" alt="Oil Meeting">
      <div class="card-content">
        <div class="h-title">24 ‡∏°‡∏Å‡∏£‡∏≤ 25 - ‡πÑ‡∏õ‡∏´‡∏≤‡∏≠‡∏≠‡∏¢‡∏Å‡∏±‡∏ö‡∏î‡∏≤‡∏ß</div>
        <div class="h-sub">‡πÄ‡∏ï‡∏á‡∏ä‡∏ß‡∏ô‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏õ‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ã‡∏∑‡πâ‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô ‡∏ï‡∏≠‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏¢‡∏±‡∏á‡πÄ‡∏Å‡∏£‡πá‡∏á‡πÜ ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏•‡∏¢</div>
      </div>
    </div>

    <div class="card" data-id="6">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/05sundaekids.jpg" alt="Sundae Kids">
      <div class="card-content">
        <div class="h-title">1 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤ 24 - ‡πÑ‡∏õ‡∏î‡∏π‡∏ô‡∏¥‡∏ó‡∏£‡∏£‡∏®‡∏Å‡∏≤‡∏£ Sundae Kids</div>
        <div class="h-sub">‡πÄ‡∏ï‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡πâ‡∏≤ ‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢</div>
      </div>
    </div>

    <div class="card" data-id="5">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/04wraptor.png" alt="Wraptor">
      <div class="card-content">
        <div class="h-title">‡πÄ‡∏î‡∏ï‡πÅ‡∏£‡∏Å ‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 24 - Wraptor</div>
        <div class="h-sub">‡∏Å‡∏≤‡∏£‡∏û‡∏ö‡∏Å‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏´‡∏ç‡∏¥‡∏á‡∏™‡∏≤‡∏ß‡∏û‡∏π‡∏î‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏ä‡∏≤‡∏¢‡∏´‡∏ô‡∏∏‡πà‡∏°‡∏û‡∏π‡∏î‡∏ä‡πâ‡∏≤ ‡∏ä‡∏≤‡∏¢‡∏´‡∏ô‡∏∏‡πà‡∏°‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÑ‡∏õ‡∏ï‡πà‡∏≠‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏õ‡∏ú‡∏¥‡∏î‡∏™‡∏≤‡∏Ç‡∏≤‡πÅ‡∏ñ‡∏°‡∏û‡∏π‡∏î‡∏ä‡πâ‡∏≤‡∏≠‡∏µ‡∏Å 555</div>
      </div>
    </div>

    <div class="card" data-id="4">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/04cover.jpg" alt="Cover">
      <div class="card-content">
        <div class="h-title">‡πÄ‡∏£‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏ö‡πâ‡∏≤‡∏á‡∏ô‡∏∞‡πÑ‡∏õ‡∏î‡∏π‡∏Å‡∏±‡∏ô‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤</div>
        <div class="h-sub">‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏ö‡∏≤‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏™‡πà‡∏°‡∏≤ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÅ‡∏ï‡πà‡∏°‡∏±‡∏ô‡πÉ‡∏™‡πà‡πÑ‡∏°‡πà‡∏´‡∏°‡∏î ‡πÇ‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏°‡∏±‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡∏°‡∏≤‡∏Å‡∏à‡∏µ‡∏à‡∏µ ‡πÑ‡∏°‡πà‡∏á‡∏≠‡∏•‡∏ô‡∏∞‡∏Ñ‡∏∞‡∏Ñ‡∏ô‡∏î‡∏µ</div>
      </div>
    </div>

    <div class="card" data-id="3">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/nichaprofile.jpg" alt="Nicha">
      <div class="card-content">
        <div class="h-title">Nicha Sampachanyasatit</div>
        <div class="h-sub">If urgent, please call someone else.</div>
      </div>
    </div>

    <div class="card" data-id="2">
      <img class="card-img" src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/thitiprofile.jpg" alt="Thiti">
      <div class="card-content">
        <div class="h-title">Thiti Mekrungrojn</div>
        <div class="h-sub">‡∏Å‡∏£‡∏≤‡∏ü‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏£‡∏≤‡∏ü‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢ ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ö‡πâ‡∏≤‡∏á‡∏ö‡∏≤‡∏á‡πÄ‡∏ß‡∏•‡∏≤</div>
      </div>
    </div>

    <div class="card active" data-id="1" style="background:#fffbee;">
      <div class="logo-bubble">
        <img src="https://raw.githubusercontent.com/thitimek/hellonicha/refs/heads/main/images/bumblelogo.png" alt="Bumble">
      </div>
      <div class="card-content" style="align-items:center; text-align:center;">
        <div class="h-title" style="margin-top:120px;">
          Happy 1st Anniversary üíõ<br>‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Ñ‡∏∏‡∏ì‡∏ì‡∏¥‡∏ä‡∏≤<br>‡∏à‡∏≥‡πÑ‡∏î‡πâ‡∏°‡∏±‡πâ‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏≤‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?
        </div>
        <div class="h-sub" style="margin-top:10px;">‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏õ‡∏µ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏°‡∏≤<br>‡∏î‡∏µ‡∏à‡∏±‡∏á‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô</div>
      </div>
    </div>

  </div>

<script>
/*
  Swipe + fade-in stacking logic
*/

const app = document.getElementById('app');

function nodeListToArray(){
  return Array.prototype.slice.call(app.querySelectorAll('.card'));
}

// Set initial stack attributes and active
function restack(){
  const cards = nodeListToArray();
  // clear active
  cards.forEach(c => c.classList.remove('active'));
  if(cards.length === 0) return;
  const top = cards[cards.length - 1];
  top.classList.add('active');

  // reset transitions for all
  cards.forEach(c => {
    c.style.transition = 'transform 320ms cubic-bezier(.22,.9,.28,1), opacity 260ms linear';
    c.style.opacity = ''; // use class to control visibility
    c.dataset.stack = "0";
    c.style.transform = ''; // reset then set below
  });

  // apply small transforms to the two below for depth
  const second = cards[cards.length - 2];
  const third = cards[cards.length - 3];
  if(second) {
    second.dataset.stack = "1";
    second.style.transform = 'scale(.96) translateY(10px)';
  }
  if(third) {
    third.dataset.stack = "2";
    third.style.transform = 'scale(.92) translateY(20px)';
  }
}

// bind pointer interactions to top card
function bindTopCard(){
  const cards = nodeListToArray();
  const top = cards[cards.length - 1];
  if(!top) return;

  // ensure restack state
  restack();

  // remove previous listeners if any
  if(top._bound) {
    top.removeEventListener('pointerdown', top._onDown);
    top.removeEventListener('pointermove', top._onMove);
    top.removeEventListener('pointerup', top._onUp);
  }

  let pointerId = null;
  let startX = 0, startY = 0, startTime = 0;
  const isFinalCard = top.dataset.id === "22"; // Check if it's the final card

  function onDown(e){
    // only primary pointer
    if(e.button && e.button !== 0) return;
    pointerId = e.pointerId;
    try { top.setPointerCapture(pointerId); } catch(err){}
    startX = e.clientX;
    startY = e.clientY;
    startTime = performance.now();
    top.style.transition = 'none';
  }

  function onMove(e){
    if(pointerId === null || e.pointerId !== pointerId) return;
    const dx = e.clientX - startX;
    const dy = e.clientY - startY;
    const rot = dx / 14;
    // Apply movement for all cards, including the final one
    top.style.transform = `translate(${dx}px, ${dy}px) rotate(${rot}deg)`;
  }

  function onUp(e){
    if(pointerId === null || e.pointerId !== pointerId) return;
    try { top.releasePointerCapture(pointerId); } catch(err){}
    pointerId = null;
    const dx = e.clientX - startX;
    const dt = performance.now() - startTime;
    const vx = dx / (dt || 1);
    const absDx = Math.abs(dx);
    const threshold = 110;
    const velocityThreshold = 0.5;

    top.style.transition = 'transform 320ms cubic-bezier(.22,.9,.28,1), opacity 260ms linear';

    // === LOGIC FOR FINAL CARD (Snap back) ===
    if (isFinalCard) {
      // If it's the final card, always snap back, never remove
      top.style.transform = 'translate(0px,0px) rotate(0deg)';
      return;
    }

    // Original logic for all other cards (1-21)
    if(absDx > threshold || Math.abs(vx) > velocityThreshold){
      const dir = dx > 0 ? 1 : -1;
      const flyX = dir * (window.innerWidth + 500);
      top.style.transform = `translateX(${flyX}px) rotate(${dir * 30}deg)`;
      top.style.opacity = '0';
      setTimeout(()=> {
        top.remove();
        requestAnimationFrame(()=> {
          restack();
          bindTopCard();
        });
      }, 340);
    } else {
      top.style.transform = 'translate(0px,0px) rotate(0deg)';
    }
  }

  top._onDown = onDown;
  top._onMove = onMove;
  top._onUp = onUp;
  top._bound = true;

  top.addEventListener('pointerdown', onDown);
  top.addEventListener('pointermove', onMove);
  top.addEventListener('pointerup', onUp);
}

// init
restack();
bindTopCard();

// keyboard support (Prevent keyboard removal for the final card)
window.addEventListener('keydown', (e)=>{
  if(e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
    const cards = nodeListToArray();
    const top = cards[cards.length - 1];
    if(!top) return;
    const isFinalCard = top.dataset.id === "22";

    if (isFinalCard) {
      // For the final card, force snap back instead of removal
      top.style.transition = 'transform 320ms cubic-bezier(.22,.9,.28,1), opacity 260ms linear';
      top.style.transform = 'translate(0px,0px) rotate(0deg)';
      return; 
    }
    
    // Logic for other cards
    const dir = e.key === 'ArrowRight' ? 1 : -1;
    top.style.transition = 'transform 320ms cubic-bezier(.22,.9,.28,1), opacity 260ms linear';
    const flyX = dir * (window.innerWidth + 500);
    top.style.transform = `translateX(${flyX}px) rotate(${dir * 30}deg)`;
    top.style.opacity = '0';
    setTimeout(()=> { top.remove(); restack(); bindTopCard(); }, 340);
  }
});

// recalc stack on resize
window.addEventListener('resize', () => {
  setTimeout(restack, 80);
});
</script>
</body>
</html>
